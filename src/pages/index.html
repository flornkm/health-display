<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Display</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <section class="workouts" id="workouts"></section>
    <script>
        const healthData = fetch('/xml-to-json')
            .then(response => response.json())
            .then(data => {
                const workouts = data.Workout;
                const workoutList = document.createElement('div');
                document.getElementById('workouts').appendChild(workoutList);

                workouts.forEach(workout => {
                    const workoutItem = document.createElement('div');
                    workoutItem.classList.add('workout-item');

                    const workoutTitle = document.createElement('h2');
                    workoutItem.innerHTML = workout.$.sourceName;
                    workoutTitle.classList.add('workout-title');
                    workoutList.appendChild(workoutItem);

                    const workoutDuration = document.createElement('div');
                    workoutDuration.classList.add('workout-data');
                    workoutDuration.innerHTML = `Duration: ${parseFloat(workout.$.duration).toFixed(2)} ${workout.$.durationUnit}`;
                    workoutItem.appendChild(workoutDuration);

                    const workoutCalories = document.createElement('div');
                    workoutCalories.classList.add('workout-data');
                    workoutCalories.innerHTML = `Calories burned: ${parseFloat(workout.WorkoutStatistics[0].$.sum).toFixed(2)} ${workout.WorkoutStatistics[0].$.unit}`;
                    workoutItem.appendChild(workoutCalories);

                    const workoutDistance = document.createElement('div');
                    workoutDistance.classList.add('workout-data');
                    workoutDistance.innerHTML = `Length: ${parseFloat(workout.WorkoutStatistics[1].$.sum).toFixed(2)} ${workout.WorkoutStatistics[1].$.unit}`;
                    workoutItem.appendChild(workoutDistance);
                });
            });
    </script>
</body>

</html>